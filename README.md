# java-convenience-store-precourse

### 기능목록

#### 데이터 초기화
- 마크다운 파일을 불러와서 데이터를 불러온다
- 불러온 데이터를 파싱해 저장한다
- 마크다운 파일은 총 두가지 종류가 있다
    - 재고 파일
        - promotion여부는 해당 파일에서 확인 가능하다.
    - 행사 파일
        - 상품명과 사는 갯수와 주는 갯수가 명시되어 있다
#### 상품정보출력
- 입장메시지 출력
- 현재 보유한 상품의 정보를 저장된 파일 기준으로 출력
- 재고 없는 상품은 재고없음으로 출력
- 프로모션 상품이나 추천 상품(행사상품에 해당하는 경우)은 두번씩 출력한다.
    - md파일에 행사재고만 있을경우 재고없음으로 재출력(오렌지주스)
#### 사용자구매
- 상품 이름과 수량을 입력
- 구매의 입력시 다음과 같은 형태를 유지해야함 (예: [사이다-2],[감자칩-1])
- 구매 입력 검증
    - 입력 상품명의 존재 여부 확인
    - 입력 형식 검증
    - 입력 수량과 재고 수량 비교
#### 프로모션 할인
- 입력된 상품이 프로모션 상품인지 확인한다.
- 입력 상품 주문 갯수와 프로모션 적용 갯수를 확인한다
    - 필요 수량보다 적게 구매수량을 입력한경우 추가 구매 여부 확인
- 입력 상품 주문 갯수와 프로모션 재고를 확인한다.
    - 프로모션 재고가 입력에 비해 부족시 남은 양 정가 구매 여부 확인

ex) 콜라 2+1이면 2개 사면 케이스1이고 4개사면 케이스 2
#### 결제
- 총 구매액 계산
    - 상품 가격과 수량을 곱해 총 구매액 계산
- 할인 적용
    - 할인 적용된 프로모션의 연산을 적용해 할인액 계산
    - 총 구매액에서 프로모션 할인 금액 차감
- 멤버십 할인
    - 멤버십 할인 적용 여부 확인
    - 프로모션 적용 하고 남은 금액에서 30%할인
        - 멤버십 할인의 최대 한도는 8천원

ex) 총 구매액 3만원 일때 프로모션 5천원 할인 되었으면 남은 2만5천원에서 멤버십 할인 30퍼센트 적용

#### 영수증 출력
- 구매내역 및 할인정보 출력
    - 사용자 입력으로 들어와 구매 했던, 구매 상품 내역 출력(구매 완료 상태)
    - 프로모션 할인이 적용된 내역에서 증정 수량(get) 출력
    - 최종 결제 정보 출력
        - 총 구매액
        - 행사할인
        - 멤버십 할인
        - 내실돈(할인정산된 결제금액)
- 영수정보를 출력에 맞게 규격화

#### 재고 업데이트
- 구매 수량만큼 상품 재고를 관리
    - 프로모션 재고와 일반 재로를 구분해 관리
- md파일에는 영향을 주면 안되고 동작된 콘솔 프로그램에만 영향을 줘야함
    - md파일은 초기 데이터 로드에만 사용
    - 재고 변화는 메모리 상에서 관리
        - 프로그램 재실행시 md파일의 원본 데이터를 불러와 초기 상태로 유지해야함

#### 추가 구매여부 확인
- 추가 구매를 진행하면 업데이트된 재고 상품목록을 다시 출력하고 첫 구매 프로세스 반복

프로모션 처리시 주의해야할 사항
프로모션 적용 상품은 프로모션 재고와 일반 재고 이중관리 해야함
- 구분해서 관리할것인지, 같이 관리하고 차감 순서를 지정할것인지
- 프로모션은 특정 기간에만 유효하도록 설계되어있기 때문에 활성 상태를 확인하는 로직

프로모션 할인과 통신사 할인은 전략 패턴을 적용하여 유연하게 관리할 수 있는지 체크
